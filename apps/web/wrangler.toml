name = "shorta-web"
main = ".open-next/worker.js"
compatibility_date = "2024-09-23"
compatibility_flags = ["nodejs_compat"]
workers_dev = true

# Custom domains (managed via Cloudflare dashboard)
# - shorta.ai
# - www.shorta.ai

# Static assets configuration
[assets]
directory = ".open-next/assets"
binding = "ASSETS"

# Environment variables
[vars]
NEXT_PUBLIC_APP_URL = "https://shorta.ai"
NEXT_PUBLIC_SUPABASE_URL = "https://dylimplqplexlbyqvhhk.supabase.co"
NEXT_PUBLIC_SUPABASE_PUBLISHABLE_KEY = "sb_publishable_1Q0JmK2vk09_azKYuV6Xvg_Bl10k3u_"
# Stripe payment links are now hardcoded in lib/stripe.ts
# NEXT_PUBLIC_STRIPE_PAYMENT_LINK = "deprecated"
NEXT_PUBLIC_POSTHOG_KEY = "phc_f07AXjLIJZeWKaCuCLeAdZiIcIPhJk4Rzm9RcsRx81L"
NEXT_PUBLIC_POSTHOG_HOST = "https://us.i.posthog.com"

# LLM Configuration
LLM_MODEL = "gemini-2.5-flash"

# Cloudflare Turnstile (CAPTCHA)
# Get your keys from: https://dash.cloudflare.com/?to=/:account/turnstile
NEXT_PUBLIC_TURNSTILE_SITE_KEY = "0x4AAAAAACLij6umuhK1Iw-g"

# Secrets (use: wrangler secret put SECRET_NAME)
# GEMINI_API_KEY = "your-api-key-here" (deploy with: wrangler secret put GEMINI_API_KEY)
# YOUTUBE_API_KEY = "your-youtube-api-key" (deploy with: wrangler secret put YOUTUBE_API_KEY)

# KV Namespaces for caching
[[kv_namespaces]]
binding = "VIRAL_PATTERNS"
id = "ce358921d943432a92004dc20dcca0eb"
preview_id = "487b0e46eb934adea7eaaaaeb6b18266"

# Observability configuration
[observability]
enabled = true

[observability.logs]
enabled = true
invocation_logs = true
